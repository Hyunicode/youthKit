# commit-msg hook for Husky

commit_msg=`cat $1`

msg_re="^(feat|fix|docs|style|refactor|perf|test|workflow|build|ci|chore|release|workflow)(\(.+\))?:.{1,100}"

if [[ ! $commit_msg =~ $msg_re ]]
then
	echo "  ğŸš«  \033[41mInvalid commit message format. \033[0m"
	echo "  ğŸ‘‰  feat(core): add new feature "
	echo "  ğŸ‘‰  fix(core): fix a bug "
	echo "  ğŸ‘‰  docs(core): add docs "
	echo "  ğŸ‘‰  style(core): fix style "
	echo "  ğŸ‘‰  refactor(core): refactor code "
	echo "  ğŸ‘‰  perf(core): improve performance "
	echo "  ğŸ‘‰  test(core): add tests "
	echo "  ğŸ‘‰  build(core): build project "
	echo "  ğŸ‘‰  ci(core): improve ci "
	echo "  ğŸ‘‰  chore(core): update something without impacting user "
	echo "  ğŸ‘‰  release(core): release a new version "
	echo "  ğŸ‘‰  workflow(core): update workflow "
	echo "  ğŸ‘‰  Please fix the commit message and try again. "
	exit 1
else
	echo "  âœ…  \033[42mCommit msg format check passed. \033[0m"
fi
